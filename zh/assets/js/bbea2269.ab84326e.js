"use strict";(self.webpackChunkFirmament=self.webpackChunkFirmament||[]).push([[9515],{85126:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(49262),o=a(67554),r=a(67294),l=a(99603);const i=function(e){return r.createElement("button",{className:"w-6 h-6 font-bold text-1xl disabled:cursor-not-allowed border border-blue-1000",onClick:()=>e.handleChooseSquare(e.index),type:"button",style:{color:e.color},"aria-label":String(e.index)},"O"==e.value?r.createElement(l.G,{icon:o.Le,style:{display:"block",margin:"auto"}}):"X"==e.value?r.createElement(l.G,{icon:n.Le,style:{display:"block",margin:"auto"}}):"")}},66816:(e,t,a)=>{a.d(t,{db:()=>i,u:()=>c});a(44866);var n=a(13247),o=a(83977),r=a(89355);const l=(0,o.ZF)({apiKey:"AIzaSyD8EcwY-enP40uMOK41581WZoflCPzU1sI",authDomain:"firmament-a19df.firebaseapp.com",databaseURL:"https://firmament-a19df-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"firmament-a19df",storageBucket:"firmament-a19df.appspot.com",messagingSenderId:"159820547097",appId:"1:159820547097:web:09a3ee1677029d8f901688",measurementId:"G-3SFMRPYT0B"}),i=(0,n.ad)(l),c=(0,r.N8)()},91955:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(67294);const o=function(e){return e.condition?n.createElement(n.Fragment,null,e.children):null}},51095:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>T,contentTitle:()=>P,default:()=>z,frontMatter:()=>S,metadata:()=>C,toc:()=>I});var n=a(87462),o=a(67294),r=a(3905),l=a(49262),i=a(67554),c=a(91955),s=a(85126),m=a(99603),u=a(66816),d=(a(44866),a(89355)),f=a(34735),p=a(49345),b=a(31425),h=a(6514),v=a(58951),E=a(37645),k=a(26411),g=a(2734),y=a(25108);const x=15;var G=[];const w=(0,d.iH)(u.u),N=x*x;for(var Z=0;Z<N;Z++)G.push("");G.push("O"),G.push("");for(Z=0;Z<5;++Z)G.push(-1);const O=function(){const[e,t]=(0,o.useState)(""),[a,n]=(0,o.useState)(""),[r,Z]=(0,o.useState)(G),[O,S]=(0,o.useState)({}),[P,C]=(0,o.useState)(""),[T,I]=o.useState(!1),L=(0,g.Z)(),Y=(0,k.Z)(L.breakpoints.down("md")),z=()=>{I(!1)};(0,o.useEffect)((()=>{const e=setInterval((e=>{""===e?(0,d.U2)((0,d.iU)(w,"gomoku")).then((e=>{e.exists()?S(e.val()):S({})})).catch((e=>{y.error(e)})):(0,d.U2)((0,d.iH)(u.u,"gomoku/"+e+"/board")).then((e=>{e.exists()?Z(e.val()):F()})).catch((e=>{y.error(e)}))}),500,a);return()=>clearInterval(e)}),[a]);var H="";O&&(H=Object.keys(O).map(((e,t)=>o.createElement("option",{key:t},e))));const X=e=>{C(e.target.value)},j=e=>{if(e.preventDefault(),"new"===e.nativeEvent.submitter.name){var a="room",o=0;if(H.length){var l=H[H.length-1].props.children;null===(a=l.match(/[a-zA-Z]/g).join(""))&&(a="room"),o=null===(o=l.match(/[0-9]/g))?0:Number(o.join(""))+1}var i=a+o.toString().padStart(4,"0");(0,d.t8)((0,d.iH)(u.u,"gomoku/"+i),{player0:"O",player1:"",board:r}).then((()=>{n(i),t("O")})).catch((e=>{y.error("Error adding to database: ",e)}))}else"join"===e.nativeEvent.submitter.name&&(""!==P?(0,d.Vx)((0,d.iH)(u.u,"gomoku/"+P),{player1:"X"}).then((()=>{n(P),t("X")})).catch((e=>{y.error("Error adding to database: ",e)})):I(!0))};function D(t){if(e===r[N]){if(""===r[t]&&""===r[N+1]){r[t]=e;for(var n=1,o=0;o<N;++o){if(o%x<(o+1)%x&&o%x<(o+2)%x&&o%x<(o+3)%x&&o%x<(o+4)%x&&r[o]===e&&r[o+1]===e&&r[o+2]===e&&r[o+3]===e&&r[o+4]===e){n=0,r[N+1]=e,r[N+2]=o,r[N+3]=o+1,r[N+4]=o+2,r[N+5]=o+3,r[N+6]=o+4;break}if(o%x>(o+x-1)%x&&o%x>(o+2*(x-1))%x&&o%x>(o+3*(x-1))%x&&o%x>(o+4*(x-1))%x&&r[o]===e&&r[o+x-1]===e&&r[o+2*(x-1)]===e&&r[o+3*(x-1)]===e&&r[o+4*(x-1)]===e){n=0,r[N+1]=e,r[N+2]=o,r[N+3]=o+(x-1),r[N+4]=o+2*(x-1),r[N+5]=o+3*(x-1),r[N+6]=o+4*(x-1);break}if(o+x<x*x&&o+2*x<x*x&&o+3*x<x*x&&o+4*x<x*x&&r[o]===e&&r[o+x]===e&&r[o+2*x]===e&&r[o+3*x]===e&&r[o+4*x]===e){n=0,r[N+1]=e,r[N+2]=o,r[N+3]=o+x,r[N+4]=o+2*x,r[N+5]=o+3*x,r[N+6]=o+4*x;break}if(o%x<(o+x+1)%x&&o%x<(o+2*(x+1))%x&&o%x<(o+3*(x+1))%x&&o%x<(o+3*(x+1))%x&&r[o]===e&&r[o+x+1]===e&&r[o+2*(x+1)]===e&&r[o+3*(x+1)]===e&&r[o+4*(x+1)]===e){n=0,r[N+1]=e,r[N+2]=o,r[N+3]=o+(x+1),r[N+4]=o+2*(x+1),r[N+5]=o+3*(x+1),r[N+6]=o+4*(x+1);break}}if(n){for(var l=0,i=0;i<N;++i)""===r[i]&&++l;""===r[N+1]&&0==l&&(r[N+1]="T")}}"O"===r[N]?r[N]="X":r[N]="O",(0,d.Vx)((0,d.iH)(u.u,"gomoku/"+a),{board:r}).then((()=>{Z(r)})).catch((e=>{y.error("Error adding to database: ",e)}))}}function F(){if(""!==a){(0,d.Od)((0,d.iH)(u.u,"gomoku/"+a)).then((()=>{})).catch((e=>{y.error("Error remove database: ",e)})),n(""),t("");for(var e=0;e<N;e++)G[e]="";G[N]="O",G[N+1]="",G[N+2]=-1,G[N+3]=-1,G[N+4]=-1,G[N+5]=-1,G[N+6]=-1,Z(G)}}return(0,o.useEffect)((function(){return window.onbeforeunload=function(){if(""!==a){(0,d.Od)((0,d.iH)(u.u,"gomoku/"+a)).then((()=>{})).catch((e=>{y.error("Error remove database: ",e)})),n(""),t("");for(var e=0;e<N;e++)G[e]="";G[N]="O",G[N+1]="",G[N+2]=-1,G[N+3]=-1,G[N+4]=-1,G[N+5]=-1,G[N+6]=-1,Z(G)}},function(){window.onbeforeunload=null}}),[a,N,G]),""===a?o.createElement("form",{onSubmit:j},o.createElement("div",null,o.createElement("select",{size:"10",style:{"max-width":"70%",width:"400px"},onChange:X},H)),o.createElement("div",null,o.createElement("button",{type:"submit",name:"new"},"New Room"),o.createElement("button",{type:"submit",name:"join"},"Join Room"),o.createElement(p.Z,{fullScreen:Y,open:T,onClose:z,"aria-labelledby":"responsive-dialog-title"},o.createElement(E.Z,{id:"responsive-dialog-title"},"Nonono"),o.createElement(h.Z,null,o.createElement(v.Z,null,"Please choose a room")),o.createElement(b.Z,null,o.createElement(f.Z,{autoFocus:!0,onClick:z},"Ok"))))):o.createElement("div",{className:"tailwind"},o.createElement("div",{className:"flex flex-col items-center gap-8"},o.createElement("section",null,o.createElement(c.Z,{condition:"T"===r[N+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},"Tie!")),o.createElement(c.Z,{condition:"X"===r[N+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},"The winner is ",o.createElement(m.G,{icon:l.Le,style:{display:"inline-block",margin:"auto"}}),"! ",r[N+1]===e?" (You)":" (Your Opponent)"," ")),o.createElement(c.Z,{condition:"O"===r[N+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},"The winner is ",o.createElement(m.G,{icon:i.Le,style:{display:"inline-block",margin:"auto"}}),"! ",r[N+1]===e?" (You)":" (Your Opponent)"," ")),o.createElement(c.Z,{condition:""===r[N+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},o.createElement("span",null,"O"==r[N]?o.createElement(m.G,{icon:i.Le,style:{display:"inline-block",margin:"auto"}}):o.createElement(m.G,{icon:l.Le,style:{display:"inline-block",margin:"auto"}}),"'s Turn ",r[N]===e?" (You)":" (Your Opponent)"))),o.createElement("div",{className:"grid grid-cols-15 grid-rows-15 relative"},r.map(((e,t)=>t<N?o.createElement(s.Z,{key:t,value:e,index:t,handleChooseSquare:D,color:"T"===r[N+1]?"grey":t==r[N+2]||t==r[N+3]||t==r[N+4]||t==r[N+5]||t==r[N+6]?"red":"black"}):o.createElement("div",null))))),o.createElement("button",{type:"button",onClick:F,style:{color:"var(--ifm-color-content-secondary)",fontSize:"var(--ifm-h5-font-size)",fontWeight:"var(--ifm-font-weight-semibold)"}},"Quit")))},S={sidebar_position:11},P=void 0,C={unversionedId:"Games/GomokuNetPlay",id:"Games/GomokuNetPlay",title:"GomokuNetPlay",description:"\u4e94\u5b50\u68cb",source:"@site/lang/zh/docusaurus-plugin-content-docs/current/Games/GomokuNetPlay.mdx",sourceDirName:"Games",slug:"/Games/GomokuNetPlay",permalink:"/docs/Games/GomokuNetPlay",draft:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"appSidebar",previous:{title:"Gomoku",permalink:"/docs/Games/Gomoku"}},T={},I=[{value:"\u4e94\u5b50\u68cb",id:"\u4e94\u5b50\u68cb",level:2}],L={toc:I},Y="wrapper";function z(e){let{components:t,...a}=e;return(0,r.kt)(Y,(0,n.Z)({},L,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u4e94\u5b50\u68cb"},"\u4e94\u5b50\u68cb"),(0,r.kt)(O,{mdxType:"GameNetPlay"}))}z.isMDXComponent=!0}}]);