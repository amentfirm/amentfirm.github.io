"use strict";(self.webpackChunkFirmament=self.webpackChunkFirmament||[]).push([[3413],{85126:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(49262),o=a(67554),r=a(67294),i=a(99603);const l=function(e){return r.createElement("button",{className:"w-6 h-6 font-bold text-1xl disabled:cursor-not-allowed border border-blue-1000",onClick:()=>e.handleChooseSquare(e.index),type:"button",style:{color:e.color},"aria-label":String(e.index)},"O"==e.value?r.createElement(i.G,{icon:o.Le,style:{display:"block",margin:"auto"}}):"X"==e.value?r.createElement(i.G,{icon:n.Le,style:{display:"block",margin:"auto"}}):"")}},66816:(e,t,a)=>{a.d(t,{db:()=>l,u:()=>s});a(44866);var n=a(13247),o=a(83977),r=a(89355);const i=(0,o.ZF)({apiKey:"AIzaSyD8EcwY-enP40uMOK41581WZoflCPzU1sI",authDomain:"firmament-a19df.firebaseapp.com",databaseURL:"https://firmament-a19df-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"firmament-a19df",storageBucket:"firmament-a19df.appspot.com",messagingSenderId:"159820547097",appId:"1:159820547097:web:09a3ee1677029d8f901688",measurementId:"G-3SFMRPYT0B"}),l=(0,n.ad)(i),s=(0,r.N8)()},91955:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(67294);const o=function(e){return e.condition?n.createElement(n.Fragment,null,e.children):null}},71095:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>w,contentTitle:()=>g,default:()=>O,frontMatter:()=>E,metadata:()=>x,toc:()=>G});var n=a(87462),o=a(67294),r=a(3905),i=a(49262),l=a(67554),s=a(91955),c=a(85126),m=a(99603),u=a(66816),d=(a(44866),a(89355)),p=a(25108);const b=15;var f=[];const h=(0,d.iH)(u.u),v=b*b;for(var k=0;k<v;k++)f.push("");f.push("O"),f.push("");for(k=0;k<5;++k)f.push(-1);const y=function(){const[e,t]=(0,o.useState)(""),[a,n]=(0,o.useState)(""),[r,k]=(0,o.useState)(f),[y,E]=(0,o.useState)({}),[g,x]=(0,o.useState)("");(0,o.useEffect)((()=>{const e=setInterval((e=>{""===e?(0,d.U2)((0,d.iU)(h,"gomoku")).then((e=>{e.exists()?E(e.val()):E({})})).catch((e=>{p.error(e)})):(0,d.U2)((0,d.iH)(u.u,"gomoku/"+e+"/board")).then((e=>{e.exists()?k(e.val()):O()})).catch((e=>{p.error(e)}))}),500,a);return()=>clearInterval(e)}),[a]);var w="";y&&(w=Object.keys(y).map(((e,t)=>o.createElement("option",{key:t},e))));const G=e=>{x(e.target.value)},N=e=>{if(e.preventDefault(),"new"===e.nativeEvent.submitter.name){var a="room",o=0;if(w.length){var i=w[w.length-1].props.children;null===(a=i.match(/[a-zA-Z]/g).join(""))&&(a="room"),o=null===(o=i.match(/[0-9]/g))?0:Number(o.join(""))+1}var l=a+o.toString().padStart(4,"0");(0,d.t8)((0,d.iH)(u.u,"gomoku/"+l),{player0:"O",player1:"",board:r}).then((()=>{n(l),t("O")})).catch((e=>{p.error("Error adding to database: ",e)}))}else"join"===e.nativeEvent.submitter.name&&""!==g&&(0,d.Vx)((0,d.iH)(u.u,"gomoku/"+g),{player1:"X"}).then((()=>{n(g),t("X")})).catch((e=>{p.error("Error adding to database: ",e)}))};function S(t){if(e===r[v]){if(""===r[t]&&""===r[v+1]){r[t]=e;for(var n=1,o=0;o<v;++o){if(o%b<(o+1)%b&&o%b<(o+2)%b&&o%b<(o+3)%b&&o%b<(o+4)%b&&r[o]===e&&r[o+1]===e&&r[o+2]===e&&r[o+3]===e&&r[o+4]===e){n=0,r[v+1]=e,r[v+2]=o,r[v+3]=o+1,r[v+4]=o+2,r[v+5]=o+3,r[v+6]=o+4;break}if(o%b>(o+b-1)%b&&o%b>(o+2*(b-1))%b&&o%b>(o+3*(b-1))%b&&o%b>(o+4*(b-1))%b&&r[o]===e&&r[o+b-1]===e&&r[o+2*(b-1)]===e&&r[o+3*(b-1)]===e&&r[o+4*(b-1)]===e){n=0,r[v+1]=e,r[v+2]=o,r[v+3]=o+(b-1),r[v+4]=o+2*(b-1),r[v+5]=o+3*(b-1),r[v+6]=o+4*(b-1);break}if(o+b<b*b&&o+2*b<b*b&&o+3*b<b*b&&o+4*b<b*b&&r[o]===e&&r[o+b]===e&&r[o+2*b]===e&&r[o+3*b]===e&&r[o+4*b]===e){n=0,r[v+1]=e,r[v+2]=o,r[v+3]=o+b,r[v+4]=o+2*b,r[v+5]=o+3*b,r[v+6]=o+4*b;break}if(o%b<(o+b+1)%b&&o%b<(o+2*(b+1))%b&&o%b<(o+3*(b+1))%b&&o%b<(o+3*(b+1))%b&&r[o]===e&&r[o+b+1]===e&&r[o+2*(b+1)]===e&&r[o+3*(b+1)]===e&&r[o+4*(b+1)]===e){n=0,r[v+1]=e,r[v+2]=o,r[v+3]=o+(b+1),r[v+4]=o+2*(b+1),r[v+5]=o+3*(b+1),r[v+6]=o+4*(b+1);break}}if(n){for(var i=0,l=0;l<v;++l)""===r[l]&&++i;""===r[v+1]&&0==i&&(r[v+1]="T")}}"O"===r[v]?r[v]="X":r[v]="O",(0,d.Vx)((0,d.iH)(u.u,"gomoku/"+a),{board:r}).then((()=>{k(r)})).catch((e=>{p.error("Error adding to database: ",e)}))}}function O(){if(""!==a){(0,d.Od)((0,d.iH)(u.u,"gomoku/"+a)).then((()=>{})).catch((e=>{p.error("Error remove database: ",e)})),n(""),t("");for(var e=0;e<v;e++)f[e]="";f[v]="O",f[v+1]="",f[v+2]=-1,f[v+3]=-1,f[v+4]=-1,f[v+5]=-1,f[v+6]=-1,k(f)}}return void 0!==typeof window&&(window.onbeforeunload=O),""===a?o.createElement("form",{onSubmit:N},o.createElement("div",null,o.createElement("select",{size:"10",style:{"max-width":"70%",width:"400px"},onChange:G},w)),o.createElement("div",null,o.createElement("button",{type:"submit",name:"new"},"New Room"),o.createElement("button",{type:"submit",name:"join"},"Join Room"))):o.createElement("div",{className:"tailwind"},o.createElement("div",{className:"flex flex-col items-center gap-8"},o.createElement("section",null,o.createElement(s.Z,{condition:"T"===r[v+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},"Tie!")),o.createElement(s.Z,{condition:"X"===r[v+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},"The winner is ",o.createElement(m.G,{icon:i.Le,style:{display:"inline-block",margin:"auto"}}),"! ",r[v+1]===e?" (You)":" (Your Opponent)"," ")),o.createElement(s.Z,{condition:"O"===r[v+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},"The winner is ",o.createElement(m.G,{icon:l.Le,style:{display:"inline-block",margin:"auto"}}),"! ",r[v+1]===e?" (You)":" (Your Opponent)"," ")),o.createElement(s.Z,{condition:""===r[v+1]},o.createElement("h1",{className:"text-center text-2xl font-bold mb-8"},o.createElement("span",null,"O"==r[v]?o.createElement(m.G,{icon:l.Le,style:{display:"inline-block",margin:"auto"}}):o.createElement(m.G,{icon:i.Le,style:{display:"inline-block",margin:"auto"}}),"'s Turn ",r[v]===e?" (You)":" (Your Opponent)"))),o.createElement("div",{className:"grid grid-cols-15 grid-rows-15 relative"},r.map(((e,t)=>t<v?o.createElement(c.Z,{key:t,value:e,index:t,handleChooseSquare:S,color:"T"===r[v+1]?"grey":t==r[v+2]||t==r[v+3]||t==r[v+4]||t==r[v+5]||t==r[v+6]?"red":"black"}):o.createElement("div",null))))),o.createElement("button",{type:"button",onClick:O,style:{color:"var(--ifm-color-content-secondary)",fontSize:"var(--ifm-h5-font-size)",fontWeight:"var(--ifm-font-weight-semibold)"}},"Quit")))},E={sidebar_position:11},g=void 0,x={unversionedId:"Games/GomokuNetPlay",id:"Games/GomokuNetPlay",title:"GomokuNetPlay",description:"5-in-a-row",source:"@site/docs/Games/GomokuNetPlay.mdx",sourceDirName:"Games",slug:"/Games/GomokuNetPlay",permalink:"/docs/Games/GomokuNetPlay",draft:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"appSidebar",previous:{title:"Gomoku",permalink:"/docs/Games/Gomoku"}},w={},G=[{value:"5-in-a-row",id:"5-in-a-row",level:2}],N={toc:G},S="wrapper";function O(e){let{components:t,...a}=e;return(0,r.kt)(S,(0,n.Z)({},N,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"5-in-a-row"},"5-in-a-row"),(0,r.kt)(y,{mdxType:"GameNetPlay"}))}O.isMDXComponent=!0}}]);