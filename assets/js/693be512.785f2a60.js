"use strict";(self.webpackChunkFirmament=self.webpackChunkFirmament||[]).push([[6533],{50341:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>m,metadata:()=>h,toc:()=>w});var r=a(87462),s=a(67294),n=a(3905),o=a(60490),l=(a(67823),a(93388)),i=a(25108);const c=[{value:"hk01",label:"HK 01",url:"https://www.hk01.com"},{value:"takungpao",label:"Ta Kung Pao",url:"http://www.takungpao.com.hk"},{value:"st",label:"Sing Tao",url:"https://www.stheadline.com"},{value:"oriental",label:"Oriental News",url:"https://orientaldaily.on.cc"},{value:"mingpao",label:"Ming Pao",url:"https://news.mingpao.com"},{value:"secretchina",label:"Secrete China",url:"https://www.secretchina.com/news/b5/index.html"},{value:"epochtimes",label:"Epoch Times",url:"https://www.epochtimes.com/b5"},{value:"yahoo",label:"Yahoo",url:"https://hk.news.yahoo.com"},{value:"hkcna",label:"HK CNA",url:"http://www.hkcna.hk"}];const p=function(){const[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),n=e=>{const a=async()=>{const a=await async function(e){const t=await fetch(`https://cors-anywhere.herokuapp.com/${e}`);if(t.ok)return await t.text();throw new Error("Response is not okay!")}(e.url);let r=[];switch(e.value){case"hk01":r=await async function(e){var t=[];let a,r,s;if(a=(0,o.zD)(e),r=a("body").html(),s=a("#__NEXT_DATA__").html()){var n=JSON.parse(s);i.log(n.props.initialProps.pageProps.sections[0].items[0].data);for(let e=0;e<n.props.initialProps.pageProps.sections[0].items.length;e++)t.push({title:n.props.initialProps.pageProps.sections[0].items[e].data.title,imgUrl:n.props.initialProps.pageProps.sections[0].items[e].data.mainImage.cdnUrl,srcUrl:n.props.initialProps.pageProps.sections[0].items[e].data.publishUrl,desc:n.props.initialProps.pageProps.sections[0].items[e].data.description})}return t}(a);for(let t=0;t<r.length;t++)r[t].srcUrl=e.url+r[t].srcUrl,r[t].srcName=e.label;break;case"st":i.log("st");break;default:i.log("Unknown options")}t(r)};try{a()}catch(s){r(!1),i.error(s)}};if(e){if(a){const t=e.map(((e,t)=>{let{title:a,imgUrl:r,srcUrl:n,desc:o,srcName:l}=e;return s.createElement("div",{key:t},s.createElement("img",{src:r,alt:""}),s.createElement("h3",null,a," ",s.createElement("small",null,"Read more from ",s.createElement("a",{href:n},l))),s.createElement("p",null,o))}));return s.createElement("div",{align:"center"},s.createElement(l.ZP,{options:c,onChange:n}),s.createElement("h2",null,"Today News"),t)}return s.createElement("div",{align:"center"},s.createElement("p",null,"Please get temporarily cors access from",s.createElement("a",{href:"https://cors-anywhere.herokuapp.com/corsdemo"},"here")))}return s.createElement("div",{align:"center"},"Loading!")},m={sidebar_position:5},u=void 0,h={unversionedId:"Scrape",id:"Scrape",title:"Scrape",description:"",source:"@site/docs/Scrape.mdx",sourceDirName:".",slug:"/Scrape",permalink:"/docs/Scrape",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"SubmitFirestore",permalink:"/docs/SubmitFirestore"}},d={},w=[{value:"Scrape HK news from newspapers",id:"scrape-hk-news-from-newspapers",level:2}],g={toc:w};function f(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"scrape-hk-news-from-newspapers"},"Scrape HK news from newspapers"),(0,n.kt)(p,{mdxType:"NewsScreen"}))}f.isMDXComponent=!0},67823:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/firmament-64f69e644da18d404e5fa0f9a65bbf10.jpg"}}]);